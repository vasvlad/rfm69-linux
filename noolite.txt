#ch:2 switch mode        110100                                1000 10011111 10100100 00100000 00010101  fmt=4
#ch:2 switch color       111000                                1000 10011111 10100100 00100000 00000100  fmt=4

#ch:2 switch color       001000 1000 10011111 10100100 00100000 00000100
                         101000 1000 10011111 10100100 00100000 11010111
#ch:3 switch color       001000 1000 01011111 10100100 00100000 00100011
                         101000 1000 01011111 10100100 00100000 11110000


#ch:3 switch mode        01 01001000 01011111 10100100 00100000 00110010
#ch:3 switch mode        10 01001000 01011111 10100100 00100000 11100001

#ch:2 switch mode        01 01001000 10011111 10100100 00100000 00010101
#ch:2 switch mode        10 01001000 10011111 10100100 00100000 11000110

switch mode = 18 = 0b10010 = inv( 01001)

==============================
new packet:


1 [1]0100 1000 10011111 10100100 00100000 00010101
28

cmd = 2


1)
good crc A8  =  crc(9e +  f92504)

9e = 0b10011110

2)
good crc A8  =  crc(0x28 + 0x7f  +  f92504)
____________V----flip
0x28 = 0b0101000
0x7F = 0b1111111

===============================
new packet:
#ch:2 switch color       1 [1]1000                                1000 10011111 10100100 00100000 00000100  fmt=4
parse => (1, 1, 9721, 4, 32, [1])
first byte: 0b11000 = 0x18

1)
good crc 0x20  =  crc( 0x9d +  f92504)
0x9d = 0b10011101

2)
good crc 0x20  =  crc( 0x18 + 0xc2 +  f92504)
0xC2 = 0b11000010
============================
new packet:
#ch:3 switch color       00 10001000 [01011111 10100100 00100000 00100011
parse => (0, 1, 9722, 4, 196, [1])
good crc 0xc4 = crc(0x9D +  fa2504)
good crc 0xc4 = crc(0x80 + 0x11 +  fa2504)
0x80  = 0b10000000
============================
new packet:
#ch:3 switch color       10 10001000 [01011111 10100100 00100000 11110000
parse => (0, 1, 9722, 4, 15, [1])
good crc 0x0F = crc (0x11 + fa2504)
good crc 0x0F = crc (0x00 + 0x11 + fa2504)
0x11 = 0b00010001
============================
new packet:








noolite.NooliteProtocolHandler().tryDecode( to_bytes('aaaaaaaaaaaaaaa859a6a6955669aa6aaa9990b34d4d2aacd354d555332000000000000000000000000fffc3ffe1fffffffffe3fffffffffffffffff'))
noolite.NooliteProtocolHandler().tryDecode( to_bytes('aaaaaaaaaaaaaaa859aa955669aaaaa99550b3552aacd35555532aa000000000000000000000000cffffffff1fffffffffffc0fffffcffffff0fffff'))



не парсится
00101010001011100010000100100001101111111111111001001010001110000010011111



ок
noolite.NooliteProtocolHandler().tryDecode( to_bytes('aaaaaaaaaaaaaaa86666aa666559a595a55555569a66a56aaa6960cccd54cccab34b2b4aaaaaad34cd4ad554d2c000000000007fffffffffffffffff'))
101010101010101010101010101010101010101010101010101010101010100001100110011001101010101001100110011001010101100110100101100101011010010101010101010101010101011010011010011001101010010101101010101010100110100101100000110011001100110101010100110011001100101010110011010010110010101101001010101010101010101010101101001101001100110101001010110101010101010011010010110000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111111111 480
000110011001100110101010100110011001100101010110011010010110010101101001010101010101010101010101101001101001100110101001010110101010101010011010010110000011001100110011010101010011001100110010101011001101001011001010110100101010101010101010101010110100110100110011010100101011010101010101001101001011 300
001010101000001010101111010011011100111111111111100100101000111000000010011
first_copy= 1100110011001101010101001100110011001010101100110100101100101011010010101010101010101010101011010011010011001101010010101101010101010100110100101100
74 10101010000010101011110100110111001111111111111001001010001110000000100110


не ок
noolite.NooliteProtocolHandler().tryDecode( to_bytes('aaaaaaaaaaaaaaa85666aa96a6a9a995a55555569a66a56aa66650accd552d4d53532b4aaaaaad34cd4ad54ccca00000000000000000001ffffffff0'))

101010101010101010101010101010101010101010101010101010101010100001010110011001101010101010010110101001101010100110101001100101011010010101010101010101010101011010011010011001101010010101101010101001100110011001010000101011001100110101010101001011010100110101010011010100110010101101001010101010101010101010101101001101001100110101001010110101010100110011001100101000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111111111110000 480

0001010110011001101010101010010110101001101010100110101001100101011010010101010101010101010101011010011010011001101010010101101010101001100110011001010000101011001100110101010101001011010100110101010011010100110010101101001010101010101010101010101101001101001100110101001010110101010100110011001100101 301

first_copy= 1010110011001101010101010010110101001101010100110101001100101011010010101010101010101010101011010011010011001101010010101101010101001100110011001010
72 101010000001100010000100010111001111111111111001001010001110000010101011


не ок

In [876]: noolite.NooliteProtocolHandler().tryDecode( to_bytes('aaaaaaaaaaaaaaa85666a95aa6a9a599a55555569a66a56aa6a6a0accd52b54d534b334aaaaaad34cd4ad54d4d40000000000000000000000fffe01f'))
63766
101010101010101010101010101010101010101010101010101010101010100001010110011001101010100101011010101001101010100110100101100110011010010101010101010101010101011010011010011001101010010101101010101001101010011010100000101011001100110101010010101101010100110101010011010010110011001101001010101010101010101010101101001101001100110101001010110101010100110101001101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111110000000011111 480

000101011001100110101010010101101010100110101010011010010110011001101001010101010101010101010101101001101001100110101001010110101010100110101001101010000010101100110011010101001010110101010011010101001101001011001100110100101010101010101010101010110100110100110011010100101011010101010011010100110101 300

first_copy= 1010110011001101010100101011010101001101010100110100101100110011010010101010101010101010101011010011010011001101010010101101010101001101010011010100
72 101010000111000010000100110101001111111111111001001010001110000010001000










на то, что 3 аргумент - десятичная влажность как бы намекает то, что последний бит никогда не единица



==================================
PT111 thermo-hygro sensor dumps
==================================

                                                                    # addr_lo addr_hi # fmt    # sum
#                       10 10101000 00101000 10000100 01010100 11111111 11111001 00101000 11100000 1000000   (276)
#                       10 10101000 00001000 10000100 01001100 11111111 11111001 00101000 11100000 11101101  (272)
#                       11 10101000 11000100 10000100 10000010 11111111 11111001 00101000 11100000 0101011
#                       10 10101000 01011000 10000100 10111100 11111111 11111001 00101000 11100000 1100101
#                       11 10101000 00011000 10000100 01011100 11111111 11111001 00101000 11100000 10101011
#                       11 10101000 01101000 10000100 11110100 11111111 11111001 00101000 11100000 0010000     # 22, 33, 47   (278)
#дуем
#                       10 10101000 11010010 10000100 00000110 11111111 11111001 00101000 11100000 1101010     # 75 , 33, 96  (331)
#                       11 10101000 10011100 10000100 10000110 11111111 11111001 00101000 11100000 01000111    # 57, 33, 97
#не дуем
#                       10 10101000 11111000 10000100 11000110 11111111 11111001 00101000 11100000 10110101    #31, 33, 99
#                       10 10101000 11100000 10000100 01010010 11111111 11111001 00101000 11100000 00110101   # 7, 33, 74
# помахали
#                       10 10101000 00000000 10000100 01110100 11111111 11111001 00101000 11100000 1000100    # 0, 33, 23    (25.6)

#холодильник
#                       11 10101000 10010010 00000100 10000110 11111111 11111001 00101000 11100000 0110000   # 73   (7.3)
#                       10 10101000 00000001 00000100 11000110 11111111 11111001 00101000 11100000 00101101  # 128
#                       11 10101000 00111001 00000100 11000110 11111111 11111001 00101000 11100000 11100111  # 156
#                       10 10101000 01010101 00000100 11000110 11111111 11111001 00101000 11100000 00001011, # 170
#                       10 10101000 01010101 00000100 11000110 11111111 11111001 00101000 11100000 00001011 # 170
#                       11 10101000 11001101 00000100 01000110 11111111 11111001 00101000 11100000 11100001 # 179
#                       10 10101000 01011101 00000100 10011010 11111111 11111001 00101000 11100000 0100100 # 186
#                       11 10101000 01000011 00000100 11010010 11111111 11111001 00101000 11100000 0100011 # 194, 32, 75
#                       10 10101000 01010011 00000100 01000010 11111111 11111001 00101000 11100000 10110011 # 202, 32, 66
#                       11 10101000 10001011 00000100 11111100 11111111 11111001 00101000 11100000 00110101 # 209 , 32, 63
#                       11 10101000 10010111 00000100 01001100 11111111 11111001 00101000 11100000 10100101 # 233, 32, 50
#                       10 10101000 11110111 00000100 00101100 11111111 11111001 00101000 11100000 0101100 # 239
#                       11 10101000 10111111 00000100 10110100 11111111 11111001 00101000 11100000 10011101 # 253, 32, 45
#                       11 10101000 00110000 10000100 00001100 11111111 11111001 00101000 11100000 1110011 # 12, 33
#                       10 10101000 10100000 10000100 10010100 11111111 11111001 00101000 11100000 10010001 # 261
# греем
#                       10 10101000 11000101 01000100 11000000 11111111 11111001 00101000 11100000 1100011 # 67.5
#                       10 10101000 00100110 01000100 01000000 11111111 11111001 00101000 11100000 1011001 #

#холодильник
#                       10 10101000 11000010 00000100 10000110 11111111 11111001 00101000 11100000 0000010 # (67)
#                       11 10101000 01111100 00000100 01001100 11111111 11111001 00101000 11100000 10111101 # (62)
#                       11 10101000 00011100 00000100 11010100 11111111 11111001 00101000 11100000 00111101 (56)
#                       11 10101000 00001000 00000100 01000100 11111111 11111001 00101000 11100000 1000101 (16)
#                       10 10101000 10011000 00000100 01101100 11111111 11111001 00101000 11100000 1100101 (25)
#                       10 10101000 00111000 00000100 11011100 11111111 11111001 00101000 11100000 0110111 (28)
#                       11 10101000 10111000 00000100 11110100 11111111 11111001 00101000 11100000 10100001
# холодильник
#                       10 10101000 11111100 11110100 01011100 11111111 11111001 00101000 11100000 1110110  (3903 =
# достали
#                       10 10101000 01000000 00000100 00000110 11111111 11111001 00101000 11100000 1110100
#                       11 10101000 10010100 00000100 01000110 11111111 11111001 00101000 11100000 0000011
#                       11 10101000 00011010 00000100 11000110 11111111 11111001 00101000 11100000 1100001
# холодильник           11 10101000 01111010 11110100 11000010 11111111 11111001 00101000 11100000 1000100 (3934 = -16.2C)
#                       10 10101000 00101010 11110100 11011100 11111111 11111001 00101000 11100000 0010011 (-17.2C)
#                       10 10101000 10110001 11110100 01111100 11111111 11111001 00101000 11100000 10001011 (-11.5C)
#                       10 10101000 01000011 11110100 11100010 11111111 11111001 00101000 11100000 01010011 (-6.2C)
#                       10 10101000 11000111 11110100 00101010 11111111 11111001 00101000 11100000 0101010 (-2.9C)
#                       11 10101000 00001111 11110100 11011010 11111111 11111001 00101000 11100000 0010101 (-1.6C)
#                       11 10101000 11100100 00000100 01111010 11111111 11111001 00101000 11100000 01011101 (3.9C)
#                       10 10101000 00101010 11110100 11011100 11111111 11111001 00101000 11100000 00100110
#                       11 10101000 00011000 10000100 01011100 11111111 11111001 00101000 11100000 10101011
#                       10 10101000 00101010 11110100 11011100 11111111 11111001 00101000 11100000 0010011
                        11 10101000 01110000 10000100 11010100 11111111 11111001 00101000 11100000 10001000
                        10 10101000 00101010 11110100 11011100 11111111 11111001 00101000 11100000 00100110
                        11 10101000 00011000 10000100 01011100 11111111 11111001 00101000 11100000 10101011
                        10 10101000 11000000 10000100 00111100 11111111 11111001 00101000 11100000 10010101

#    low battery test   10 10101000 11100000 10000101 00100110 11111111 11111001 00101000 11100000 00111000

